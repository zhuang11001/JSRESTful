<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <title>接口测试</title>
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link rel='stylesheet' href='/stylesheets/style.css' />
</head>
<body>
<div class="container">
    <div class="top">
        <h2>接口测试 / <a href="/secret">接口测试（加解密）</a> / <a href="/interface">接口测试（签名验签）</a></h2>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <h4>1、配置参数接口</h4>
            <div class="form-group">
                <label for="recipient-name" class="control-label">命令标识:</label>
                <input type="text" class="form-control" id="cmd">
            </div>
            <div class="form-group">
                <label for="recipient-name" class="control-label">服务器地址:</label>
                <input type="text" class="form-control" id="val">
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="ConfigParameters()">配置参数接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="ConfigParametersTxt" cols="150" rows="5"></textarea>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <label for="recipient-name" class="control-label">命令标识:</label>
                <input type="text" class="form-control" id="get-cmd">
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="GetParameters()">获取配置参数接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="GetParametersTxt" cols="150" rows="5"></textarea>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <label for="recipient-name" class="control-label">二维码图片内容:</label>
                <input type="text" class="form-control" id="img-content">
            </div>
            <div class="form-group">
                <label for="recipient-name" class="control-label">二维码图片存放路径（图片格式为png）:</label>
                <input type="text" class="form-control" id="img-path" value="/images/" disabled>
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="RCode()">请求二维码接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="RCodeTxt" cols="150" rows="5"></textarea>
            </div>

        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <label for="Numbering" class="control-label">接入方编号:</label>
                <input type="text" class="form-control" id="Numbering">
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="Transid()">获取流水号接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="TransidTxt" cols="150" rows="5"></textarea>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="GetUserList()">获取证书列表接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="GetUserListTxt" cols="150" rows="5"></textarea>
            </div>

        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <label for="certType" class="control-label">1(签名证书)，2(加密证书):</label>
                <input type="text" class="form-control" id="certType">
            </div>
            <div class="form-group">
                <label for="containerId2" class="control-label">容器名，可为空:</label>
                <input type="text" class="form-control" id="containerId2">
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="GetCertBase64String()">获取数字证书接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="GetCertBase64StringTxt" cols="150" rows="5"></textarea>
            </div>

        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <label for="certBase64" class="control-label">证书base64编码:</label>
                <input type="text" class="form-control" id="certBase64">
            </div>
            <div class="form-group">
                <label for="type" class="control-label">1、证书版本；2、证书序列号:</label>
                <input type="text" class="form-control" id="type">
            </div>

            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="GetCertInfo()">获取证书信息接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="GetCertInfoTxt" cols="150" rows="5"></textarea>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <label for="containerId" class="control-label">唯一标识，可为空:</label>
                <input type="text" class="form-control" id="containerId">
            </div>
            <div class="form-group">
                <label for="password" class="control-label">6位证书口令，可为空:</label>
                <input type="text" class="form-control" id="password">
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="CertLogin()">证书口令验证接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="CertLoginTxt" cols="150" rows="5"></textarea>
            </div>

        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <label for="containerId2" class="control-label">唯一标识:</label>
                <input type="text" class="form-control" id="containerId2">
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="GetPinRetryCount()">获取密码重试剩余次数接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="GetPinRetryCountTxt" cols="150" rows="5"></textarea>
            </div>

        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="VerifyIdentity()">验证证书有效性接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="VerifyIdentityTxt" cols="150" rows="5"></textarea>
            </div>

        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <label for="certBase" class="control-label">证书base64编码:</label>
                <input type="text" class="form-control" id="certBase">
            </div>
            <div class="form-group">
                <label for="authNo" class="control-label">授权码（32位UUID）:</label>
                <input type="text" class="form-control" id="authNo">
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="KeyGetKeySn()">获取证书用户标识接口</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="KeyGetKeySnTxt" cols="150" rows="5"></textarea>
            </div>

        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">

            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="changePwd()">获取证书用户标识</button>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="changePwdTxt" cols="150" rows="5"></textarea>
            </div>
        </div>
    </div>
</div>
</body>
<script src="https://cdn.bootcss.com/html5shiv/r29/html5.js"></script>
<script src="https://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
<script src="/javascripts/ajax.js" type="text/javascript"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script type="text/javascript">
    //3.2.1.1.参数配置接口
    function ConfigParameters(){
//        let url=commonUrl+"/RS_ConfigParameters";
//        let data={
//            cmd:$("#cmd").val(),
//            val:$("#val").val()
//        }
//        ajax(url, data,false,false, false, false, 'get','json');
//        document.getElementById("ConfigParametersTxt").innerHTML = smgdata;
        $.ajax({
            url:commonUrl+"/RS_ConfigParameters",
            type:"get",
            data:{
                cmd:$("#cmd").val(),
                val:$("#val").val(),
            },
            success:function(res){
//                $("#text").html("3.2.1.1.参数配置接口");
//                JudgeCode(res);
//                $('#mymodel').modal('show')
                var smg=JSON.stringify(res);
                document.getElementById("ConfigParametersTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
    //3.2.1.2.获取配置参数接口
    function GetParameters(){
//        let url=commonUrl+"/RS_GetParameters";
//        let data={
//            cmd:$("#get-cmd").val(),
//        }
//        ajax(url, data,false,false, false, false, 'post','json');
        $.ajax({
            url:commonUrl+"/RS_GetParameters",
            type:"post",
            data:{
                cmd:$("#get-cmd").val(),
            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("GetParametersTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
    //3.2.1.4.生成二维码图片接口
    function RCode(){
        $.ajax({
            url:commonUrl+"/RS_GreateQRCode",
            type:"post",
            data:{
                qrcode:$("img-content").val(),
                path:$("img-path").val()
            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("RCodeTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
    //3.2.1.5.获取流水号接口
    function Transid(){
        $.ajax({
            url:commonUrl+"/RS_GetTransid",
            type:"post",
            data:{
                joinCode:"123142",
            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("TransidTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
    //3.2.2.1.获取证书列表接口
    function GetUserList(){
        $.ajax({
            url:commonUrl+"/RS_GetUserList",
            type:"get",
            data:{
            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("GetUserListTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
    //3.2.2.2.获取数字证书接口
    function GetCertBase64String(){
        $.ajax({
            url:commonUrl+"/RS_GetCertBase64String",
            type:"post",
            data:{
                certType:"1",
                containerId:"123142"
            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("GetCertBase64StringTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
    //3.2.2.3.获取证书信息接口
    function GetCertInfo(){
        $.ajax({
            url:commonUrl+"/RS_GetCertInfo",
            type:"post",
            data:{
                certBase64:"123142",
                type:"1",
            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("GetCertInfoTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
    //3.2.2.4.证书口令验证接口
    function CertLogin(){
        $.ajax({
            url:commonUrl+"/RS_CertLogin",
            type:"post",
            data:{
                containerId:"123142",
                password:"1",
            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("CertLoginTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
    //3.2.2.5.获取密码重试剩余次数接口
    function GetPinRetryCount(){
        $.ajax({
            url:commonUrl+"/RS_GetPinRetryCount",
            type:"post",
            data:{
                containerId:"123142"
            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("GetPinRetryCountTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
    //3.2.2.6.修改证书口令接口
    function changePwd(){
        $.ajax({
            url:commonUrl+"/RS_ChangePassWd",
            type:"get",
            data:{

            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("changePwdTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
    //3.2.2.7.验证证书有效性接口
    function VerifyIdentity(){
        $.ajax({
            url:commonUrl+"/RS_VerifyIdentity",
            type:"post",
            data:{
                certBase64:"123",
                authNoL:""
            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("VerifyIdentityTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }



    function KeyGetKeySn(){
        $.ajax({
            url:commonUrl+"/RS_KeyGetKeySn",
            type:"get",
            data:{
            },
            success:function(res){
                var smg=JSON.stringify(res);
                document.getElementById("KeyGetKeySnTxt").innerHTML = smg;
                console.log(res);
            },
            error:function(res){
                console.log(res);
            }
        });
    }
</script>
</html>
